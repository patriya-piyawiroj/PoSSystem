syntax = "proto3";

option java_multiple_files = true;
option java_package = "io.grpc.examples.animals";
option java_outer_classname = "DogProto";

package animals;

service Dog {
  // Calculate final price and point given payment type and modifier
    rpc CalculateFinalPriceAndPoints (CalculateFinalPriceAndPointsRequest) returns (CalculateFinalPriceAndPointResponse) {}
    // Get aggregated sales price and point per hour
    rpc GetSalesByHour (DateTimeRangeRequest) returns (SalesByHourResponse) {}
  rpc Bark (BarkRequest) returns (BarkReply) {}
}

message BarkRequest {
}

message BarkReply {
  string message = 1;
}

  // The request message for with a start and end date filter
  message DateTimeRangeRequest {
    string startDate = 1;
    string endDate = 2;
  }

  // The response message containing a list of sales
  message SalesByHourResponse {
    repeated Sales sales = 1;
  }
  message Sales {
    string datetime = 1;
    string sales = 2;
    int32 points = 3;
  }

  // The request message for calculating final price and points
  message CalculateFinalPriceAndPointsRequest {
    string price = 1;
    float priceModifier = 2;
    string paymentMethod = 3;
    string datetime = 4;
  }

  // The response message containing final price and points
  message CalculateFinalPriceAndPointResponse {
    string finalPrice = 1;
    int32 points = 2;
  }